{"version":3,"sources":["data/stories.js","components/Image.js","utils/shortenStoryText.js","utils/timestampToDate.js","StoryListView.js","StoryDetailsView.js","AboutView.js","Redirector.js","components/Navigation.js","components/Footer.js","App.js","index.js"],"names":["stories","forEach","story","url","time","reverse","Image","_Component","Object","inherits","_super","_createSuper","props","_this","classCallCheck","this","call","state","imageHasRendered","createClass","key","value","_this2","onClick","src","getSrc","backgroundImage","concat","react_default","a","createElement","className","style","data-qa","ref","element","size","getBoundingClientRect","width","window","devicePixelRatio","setState","Component","shortenStoryText","text","fullstop","indexOf","firstExclamationMark","secondExclamationMark","substring","Math","min","months","timestampToDate","timestamp","date","Date","setUTCSeconds","parseInt","getDate","getMonth","getYear","ConnectedStoryListView","StoryListView","StoryListView_createSuper","apply","arguments","Link","type","to","aria-label","name","lib_default","height","offset","Image_Image","map","renderStory","renderStories","StoryDetailsView","StoryDetailsView_createSuper","_ref","nextStoryId","previousStoryId","event","history","push","navigateNextOrPrevious","document","removeEventListener","storyIndex","id","match","params","findIndex","nextStory","previousStory","getStoryIndex","getNextStoryId","getPreviousStoryId","createNavigator","addEventListener","getStory","Helmet","title","meta","content","property","location","react_fontawesome_lib_default","AboutView","AboutView_createSuper","href","target","Redirector","search","p","queryString","parse","Redirect","children","React","Navigation","Navigation_createSuper","NavLink","activeClassName","Footer","Footer_createSuper","role","RenderHomeOrRedirect","Redirector_Redirector","App","App_createSuper","Navigation_Navigation","Switch","Route","path","component","Footer_Footer","OGdescription","render","BrowserRouter","App_App","async","defer","getElementById"],"mappings":"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","file":"static/js/main.2ccee357.chunk.js","sourcesContent":["import testStories from './test-stories.json';\nimport realStories from './stories.json';\n\nlet stories = realStories;\n\nif (process.env.NODE_ENV === 'test') {\n  stories = testStories;\n}\n\nstories.forEach(story => {\n  story.url = 'https://movingthings.imgix.net/' + story.time + '.JPG';\n});\n\nstories.reverse();\n\nexport { stories };\n","import React, {Component} from 'react';\n\nexport class Image extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      imageHasRendered: false,\n    };\n  }\n\n  render() {\n    let {onClick} = this.props;\n    const src = this.getSrc();\n    const backgroundImage = src ? {backgroundImage: `url(${src})`} : {};\n    return (\n        <div className=\"image-wrapper\" style={backgroundImage} data-qa={src} ref={element => this.element = element}\n             onClick={onClick}/>\n    );\n  }\n\n  getSrc() {\n\n    if(!this.state.imageHasRendered) {\n      return null;\n    }\n\n    let {src} = this.props;\n\n    const size = this.element.getBoundingClientRect().width;\n    src += '?fit=max&w=' + size + '&h=' + size;\n\n    if (window.devicePixelRatio) {\n      src += '&dpr=' + window.devicePixelRatio;\n    }\n\n    return src;\n  }\n\n  componentDidMount() {\n    this.setState({imageHasRendered: true});\n  }\n}\n","export const shortenStoryText = (text) => {\n  const fullstop = text.indexOf(\".\");\n  const firstExclamationMark = text.indexOf(\"!\");\n  const secondExclamationMark = text.indexOf(\"!\", (firstExclamationMark + 1));\n\n  if (fullstop > 0 || secondExclamationMark > 0) {\n    if (fullstop === -1) {\n      return text.substring(0, secondExclamationMark + 1);\n    }\n\n    if (secondExclamationMark === -1) {\n      return text.substring(0, fullstop + 1);\n    }\n\n    return text.substring(0, Math.min(fullstop, secondExclamationMark) + 1);\n  }\n\n  return text;\n};","const months = [\n  'January',\n  'February',\n  'March',\n  'April',\n  'May',\n  'June',\n  'July',\n  'August',\n  'September',\n  'October',\n  'November',\n  'December',\n];\n\nexport const timestampToDate = (timestamp) => {\n  const date = new Date(0);\n  date.setUTCSeconds(parseInt(timestamp, 10));\n\n  return `${date.getDate()} ${months[date.getMonth()]}, ${1900+date.getYear()}`;\n};\n","import React, {Component} from 'react';\nimport {stories} from './data/stories.js';\nimport {Image} from './components/Image.js';\nimport {Link} from \"react-router-dom\";\nimport LazyLoad from 'react-lazyload';\nimport {shortenStoryText} from \"./utils/shortenStoryText\";\nimport {timestampToDate} from \"./utils/timestampToDate\";\n\nexport class StoryListView extends Component {\n\n    renderStory(story) {\n        return (\n            <Link type=\"button\" key={story.time} to={`/stories/${story.time}`}\n                  aria-label={shortenStoryText(story.text)} className=\"story-thumbnail\"\n                  name={timestampToDate(story.time)}\n                  data-qa={story.time}>\n                <LazyLoad height={200} offset={300}>\n                    <Image src={story.url}/>\n                </LazyLoad>\n            </Link>\n        );\n    }\n\n    renderStories() {\n        return (\n            <div className=\"stories-wrapper\">\n                {stories.map(story => this.renderStory(story))}\n            </div>\n        );\n    }\n\n    render() {\n        return (\n            <main>\n                {this.renderStories()}\n            </main>\n        );\n    }\n}\n\nexport const ConnectedStoryListView = StoryListView;\n","import React, {Component} from 'react';\nimport {stories} from './data/stories';\nimport {Image} from './components/Image.js';\nimport {timestampToDate} from './utils/timestampToDate';\nimport {Link} from 'react-router-dom';\nimport FontAwesome from 'react-fontawesome';\nimport {Helmet} from \"react-helmet\";\n\nexport class StoryDetailsView extends Component {\n\n    createNavigator({nextStoryId, previousStoryId}) {\n        return event => {\n            if (event.key === 'ArrowRight' && nextStoryId) {\n                this.props.history.push(`/stories/${nextStoryId}`);\n            }\n            if (event.key === 'ArrowLeft' && previousStoryId) {\n                this.props.history.push(`/stories/${previousStoryId}`);\n            }\n        };\n    }\n\n    componentWillUnmount() {\n        if (this.navigateNextOrPrevious) {\n            document.removeEventListener(\"keydown\", this.navigateNextOrPrevious, false);\n        }\n    }\n\n    getStory(storyIndex) {\n        return stories[storyIndex];\n    }\n\n    getStoryIndex() {\n        const {match: {params: {id}}} = this.props;\n        return stories.findIndex(story => story.time === id);\n    }\n\n    getNextStoryId(storyIndex) {\n        const nextStory = stories[storyIndex - 1];\n        return nextStory ? nextStory.time : null;\n    }\n\n    getPreviousStoryId(storyIndex) {\n        const previousStory = stories[storyIndex + 1];\n        return previousStory ? previousStory.time : null;\n    }\n\n    render() {\n        const storyIndex = this.getStoryIndex();\n\n        if (this.navigateNextOrPrevious) {\n            document.removeEventListener(\"keydown\", this.navigateNextOrPrevious, false);\n        }\n\n        const nextStoryId = this.getNextStoryId(storyIndex);\n\n        const previousStoryId = this.getPreviousStoryId(storyIndex);\n\n        this.navigateNextOrPrevious = this.createNavigator({nextStoryId, previousStoryId});\n        document.addEventListener(\"keydown\", this.navigateNextOrPrevious, false);\n\n        const story = this.getStory(storyIndex);\n\n        return (\n            <div>\n                <Helmet\n                    title=\"little moving things\"\n                    meta={[\n                        {\"name\": \"twitter:description\", content: `${story.text}`},\n                        {\"name\": \"twitter:image\", content: `${story.url}`},\n                        {\"name\": \"description\", property: \"og:description\", content: `${story.text}`},\n                        {property: \"og:image\", content: `${story.url}`}\n                    ]}\n                />\n\n                <main>\n                    <div className=\"story-detail\" aria-label={story.text}>\n                        <div className=\"story-detail-left\">\n                            <div className=\"story-detail-image\">\n                                <Image src={story.url}/>\n                            </div>\n                        </div>\n                        <div className=\"story-detail-right\">\n                            <div className=\"story-detail-meta\">\n                                <div className=\"story-detail-date\">\n                                    <p data-qa=\"story-date\">{timestampToDate(story.time)}</p>\n                                </div>\n                                <div className=\"story-detail-location\">\n                                    <p data-qa=\"story-location\">{story.location}</p>\n                                </div>\n                            </div>\n                            <div className=\"story-detail-text\">\n                                <p data-qa=\"story-text\">{story.text}</p>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"story-detail-PreNext\">\n                        {previousStoryId && <Link className=\"btn-previous\" data-qa=\"btn-previous\"\n                                                  to={`/stories/${previousStoryId}`}><FontAwesome\n                            name=\"chevron-left\"/> Previous story</Link>}\n                        {nextStoryId && <Link className=\"btn-next\" data-qa=\"btn-next\" to={`/stories/${nextStoryId}`}>Next\n                            story <FontAwesome name=\"chevron-right\"/></Link>}\n                    </div>\n                </main>\n            </div>\n        );\n    }\n}\n","import React, {Component} from 'react';\n\nexport class AboutView extends Component {\n  render() {\n\n    return (\n      <main>\n        <div className=\"about\" data-qa=\"about-text\">\n          <p data-qa=\"greeting\" className=\"greeting\">Hello! Hola! Salut! Hej! Olá! Hallo!</p>\n          <p data-qa=\"p1\">little moving things is a collection of photos and short stories, taken or curated and\n            written by <a\n              href={\"http://jbroring.nl\"} target={\"_blank\"}>Jesper Bröring</a>. Some stories are true others might be\n            funny to you.</p>\n          <p data-qa=\"p2\">It all started on a holiday in Sicily, in the streets of Catania to be precise. Jesper found\n            loads of little cars, mostly Piaggio Ape’s, some with more character than others. The more cars he found,\n            the\n            more pictures he took and the more information tried to find out about the little cars. This transformed\n            into short\n            stories where the moving things can air their thoughts, life story or anything else.</p>\n          <p data-qa=\"p3\">Do you have a little moving thing that you would like to get featured here? Email it to: <a\n            href={\"mailto:alittlemovingthing@gmail.com?Subject=I%20found%20a%20little%20moving%20thing\"}\n            target={\"_blank\"}>alittlemovingthing@gmail.com</a> or reach out to me on <a\n            href={\"https://www.instagram.com/littlemovingthings/\"} target={\"_blank\"}>@littlemovingthings</a> on\n            Instagram.</p>\n\n          <p data-qa=\"dev-webapp\">This website is build with React and with lots of help from software engineers <a\n            href={\"https://uk.linkedin.com/in/jacekrzrz\"} target={\"_blank\"}>Jacek Rzeniewicz</a> & <a\n            href={\"https://github.com/jgalilee\"} target={\"_blank\"}>Jack Galilee</a>.</p>\n          <p data-qa=\"bye\">Enjoy!</p>\n        </div>\n      </main>\n    )\n  }\n}\n","import React from 'react';\nimport queryString from 'query-string'\nimport {Redirect} from \"react-router\";\n\nexport default class Redirector extends React.Component {\n  render() {\n    const { location: { search } } = this.props;\n    const { p } = queryString.parse(search);\n    if (p) {\n      return <Redirect to={p} />;\n    }\n    return this.props.children;\n  }\n}","import React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\n\nexport class Navigation extends Component {\n  render() {\n    return (\n      <nav className=\"navigation\">\n          <h1 aria-label=\"Welcome to little moving things. This is a website that contains images and stories about little moving things, like little cars. When using a screen reader you won't be able to see the images but hopefully you can listen to the stories.\"><NavLink className=\"nav-logo\" data-qa=\"nav-logo\" to=\"/\">little moving things</NavLink></h1>\n          <NavLink className=\"btn-nav\" data-qa=\"about\" to=\"/about\" activeClassName=\"btn-active\">about</NavLink>\n      </nav>\n  );\n  }\n}\n","import React, { Component } from 'react';\n\nexport class Footer extends Component {\n  render() {\n    return (\n      <footer className=\"footer\">\n        <p>Made by <a href={\"http://jbroring.nl\"}>Jesper Bröring</a> with <span role=\"img\" aria-label=\"Love\" className=\"footer-heart\">♥️</span> in London & Amsterdam. Privacy with <a href={\"https://withcabin.com/privacy/littlemovingthings.io\"} target={\"_blank\"}>Cabin</a>.</p>\n      </footer>\n  );\n  }\n}\n","import React, {Component} from 'react';\nimport {Route, Switch} from 'react-router';\nimport './styles/styles.css';\nimport {ConnectedStoryListView} from './StoryListView';\nimport {StoryDetailsView} from './StoryDetailsView';\nimport {AboutView} from \"./AboutView\";\nimport Redirector from \"./Redirector\";\nimport {Navigation} from \"./components/Navigation\";\nimport {Footer} from './components/Footer.js';\n\nconst RenderHomeOrRedirect = ({location}) => <Redirector location={location}><ConnectedStoryListView/></Redirector>;\n\nexport class App extends Component {\n    render() {\n        return (\n            <div>\n                <Navigation/>\n                <Switch>\n                    <Route path=\"/stories/:id\" component={StoryDetailsView}/>\n                    <Route path=\"/about\" component={AboutView}/>\n                    <Route path=\"/\" component={RenderHomeOrRedirect}/>\n                </Switch>\n                <Footer/>\n            </div>\n\n        );\n\n    }\n}\n","import React from 'react';\nimport './styles/styles.css';\nimport {App} from './App';\nimport {BrowserRouter as Router} from \"react-router-dom\";\nimport {render} from 'react-snapshot';\nimport {Helmet} from \"react-helmet\";\n\nconst OGdescription = \"A collection of photos & stories of small cars, little trucks or little things that may or may not move. It is an art project by Jesper Bröring with help from other contributors. The stories are real or funny, you can be the judge of that.\";\nrender(\n    <Router>\n        <div>\n            <Helmet\n                title=\"little moving things\"\n                meta={[\n                    {\"name\": \"twitter:card\", content: \"summary_large_image\"},\n                    {\"name\": \"twitter:creator\", content: \"@jbroring\"},\n                    {\"name\": \"twitter:title\", content: \"little moving things\"},\n                    {\"name\": \"twitter:description\", content: OGdescription},\n                    {\n                        \"name\": \"twitter:image\",\n                        content: \"http://littlemovingthings.io/static/img/littlemovingthings_3x3_1200.jpg\"\n                    },\n                    {\"name\": \"description\", property: \"og:description\", content: OGdescription},\n                    {property: \"og:type\", content: \"website\"},\n                    {property: \"og:title\", content: \"little moving things\"},\n                    {property: \"og:url\", content: \"http://littlemovingthings.io\"},\n                    {\n                        property: \"og:image\",\n                        content: \"http://littlemovingthings.io/static/img/littlemovingthings_3x3_1200.jpg\"\n                    }\n                ]}\n            />\n                <App/>\n          <script async defer src=\"https://scripts.withcabin.com/hello.js\"></script>\n        </div>\n    </Router>,\n    document.getElementById('root'));\n\n"],"sourceRoot":""}